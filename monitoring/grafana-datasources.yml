apiVersion: 1

datasources:
  - name: Prometheus
    type: prometheus
    access: proxy
    orgId: 1
    url: http://prometheus:9090
    isDefault: true

  - name: PostgreSQL
    type: postgres
    access: proxy
    orgId: 1
    url: postgres:5432
    user: '${POSTGRES_USER}'
    database: '${POSTGRES_DBNAME}'
    secureJsonData:
      password: '${POSTGRES_PASSWORD}'
    jsonData:
      sslmode: 'disable'
      postgresVersion: 14
      timescaledb: false

  - name: Loki
    type: loki
    access: proxy
    url: http://loki:3100
    jsonData:
      maxLines: 1000

  - name: ClickHouse
    uid: clickhouse-datasource
    type: grafana-clickhouse-datasource
    access: proxy
    url: http://clickhouse:8123
    jsonData:
      host: clickhouse
      port: 8123
      protocol: http
      defaultDatabase: '${CLICKHOUSE_DB}'
      username: '${CLICKHOUSE_USER}'
    secureJsonData:
      password: '${CLICKHOUSE_PASSWORD}'
    editable: true
